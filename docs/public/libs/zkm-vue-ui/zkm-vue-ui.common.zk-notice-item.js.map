{"version":3,"sources":["webpack://zkm-vue-ui/./packages/components/global/notice/src/notice.vue?dcaf","webpack://zkm-vue-ui/./packages/components/global/notice/src/notice.vue?e526","webpack://zkm-vue-ui/packages/components/global/notice/src/notice.vue","webpack://zkm-vue-ui/./packages/components/global/notice/src/notice.vue?688e","webpack://zkm-vue-ui/./packages/components/global/notice/src/notice.vue","webpack://zkm-vue-ui/./packages/components/global/notice/src/notice-item.vue?40a0","webpack://zkm-vue-ui/packages/components/global/notice/src/notice-item.vue","webpack://zkm-vue-ui/./packages/components/global/notice/src/notice-item.vue?4c49","webpack://zkm-vue-ui/./packages/components/global/notice/src/notice-item.vue","webpack://zkm-vue-ui/./packages/components/global/notice/index.js","webpack://zkm-vue-ui/./packages/components/global/notice/src/notice.vue?da66","webpack://zkm-vue-ui/./packages/components/global/notice-item/index.js"],"names":["components","NoticeItem","Notice","install","Vue","component","name","Component"],"mappings":"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","file":"zkm-vue-ui.common.zk-notice-item.js","sourcesContent":["import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./notice.vue?vue&type=style&index=0&id=e4ad9166&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./notice.vue?vue&type=style&index=0&id=e4ad9166&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"notice\",style:(_vm.currentStyle)},[_c('div',{ref:\"slot\",staticClass:\"notice-slot\",style:(_vm.currentSlotStyle)},[_c('div',{ref:\"slot1\",staticClass:\"notice-slot-1\"},[_vm._t(\"default\")],2),_c('div',{ref:\"slot2\",staticClass:\"notice-slot-2\"},[_vm._t(\"default\")],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"notice\"\r\n    :style=\"currentStyle\">\r\n    <div\r\n      class=\"notice-slot\"\r\n      ref=\"slot\"\r\n      :style=\"currentSlotStyle\">\r\n      <div class=\"notice-slot-1\" ref=\"slot1\">\r\n        <slot></slot>\r\n      </div>\r\n      <div class=\"notice-slot-2\" ref=\"slot2\">\r\n        <slot></slot>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ZkNotice',\r\n  props: {\r\n    data: {},\r\n    delay: {\r\n      type: Number,\r\n      default: 3000\r\n    },\r\n    duration: {\r\n      type: Number,\r\n      default: 600\r\n    },\r\n    row: {\r\n      type: Number,\r\n      default: 1\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      timer: undefined,\r\n      slotsLength: 0,\r\n      childConfig: [],\r\n      currentChildIndex: 0\r\n    }\r\n  },\r\n  computed: {\r\n    currentChildConfig () {\r\n      return this.childConfig[this.currentChildIndex] || null\r\n    },\r\n    currentStyle () {\r\n      const config = this.currentChildConfig\r\n      let height = 0\r\n      for (let index = 0; index < this.row; index++) {\r\n        const config = this.childConfig[this.currentChildIndex + index]\r\n        if (config) {\r\n          height += config.clientHeight\r\n        }\r\n      }\r\n      let style = {}\r\n      if (config) {\r\n        style['height'] = `${height}px`\r\n      }\r\n      return style\r\n    },\r\n    currentSlotStyle () {\r\n      const config = this.currentChildConfig\r\n      let style = {}\r\n      if (config) {\r\n        style['top'] = `-${config.offsetTop}px`\r\n      }\r\n      if (this.currentChildIndex > 0) {\r\n        style['transition'] = `top ${this.duration / 1000}s ease`\r\n      }\r\n      return style\r\n    }\r\n  },\r\n  watch: {\r\n    data () {\r\n      this.$nextTick(this.updateChildConfig)\r\n    },\r\n    currentChildIndex () {\r\n      if (this.currentChildIndex === this.slotsLength) {\r\n        setTimeout(() => {\r\n          this.currentChildIndex = 0\r\n        }, this.delay / 2)\r\n      }\r\n    },\r\n    delay: 'createdTimer'\r\n  },\r\n  methods: {\r\n    scrollNext () {\r\n      this.updateChildConfig()\r\n      if (!this.$refs.slot1 || !this.$refs.slot2) return\r\n      let index = 0\r\n      if (this.childConfig[this.currentChildIndex + 1]) {\r\n        index = this.currentChildIndex + 1\r\n      }\r\n      this.currentChildIndex = index\r\n    },\r\n    updateChildConfig () {\r\n      if (!this.$refs.slot1 || !this.$refs.slot2) return\r\n      this.slotsLength = (this.$refs.slot1.children && this.$refs.slot1.children.length) || 0\r\n      this.childConfig = [\r\n        ...this.$refs.slot1.children,\r\n        ...this.$refs.slot2.children\r\n      ].map($el => {\r\n        return {\r\n          clientWidth: $el.clientWidth,\r\n          clientHeight: $el.clientHeight,\r\n          offsetTop: $el.offsetTop\r\n        }\r\n      })\r\n    },\r\n    createdTimer () {\r\n      this.clearTimer()\r\n      if (this.delay >= this.duration) {\r\n        this.timer = setInterval(this.scrollNext, this.delay)\r\n      }\r\n    },\r\n    clearTimer () {\r\n      if (this.timer) clearInterval(this.timer)\r\n    }\r\n  },\r\n  created () {\r\n    this.createdTimer()\r\n  },\r\n  mounted () {\r\n    this.updateChildConfig()\r\n  },\r\n  destroyed () {\r\n    this.clearTimer()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.notice {\r\n  overflow: hidden;\r\n  width: 100%;\r\n  transition: height .2s;\r\n  .notice-slot {\r\n    position: relative;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./notice.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./notice.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./notice.vue?vue&type=template&id=e4ad9166&scoped=true&\"\nimport script from \"./notice.vue?vue&type=script&lang=js&\"\nexport * from \"./notice.vue?vue&type=script&lang=js&\"\nimport style0 from \"./notice.vue?vue&type=style&index=0&id=e4ad9166&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e4ad9166\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ZkNoticeItem'\r\n}\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./notice-item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./notice-item.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./notice-item.vue?vue&type=template&id=65cb239c&\"\nimport script from \"./notice-item.vue?vue&type=script&lang=js&\"\nexport * from \"./notice-item.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Notice from './src/notice.vue'\r\nimport NoticeItem from './src/notice-item.vue'\r\n\r\nconst components = [\r\n  NoticeItem\r\n]\r\n\r\nNotice.install = function (Vue) {\r\n  Vue.component(Notice.name, Notice)\r\n  for (const Component of components) {\r\n    Vue.component(Component.name, Component)\r\n  }\r\n}\r\n\r\nfor (const Component of components) {\r\n  Component.install = function (Vue) {\r\n    Vue.component(Component.name, Component)\r\n  }\r\n}\r\n\r\nexport { Notice, NoticeItem }\r\nexport default Notice\r\n","// extracted by mini-css-extract-plugin","import { NoticeItem } from '../notice'\r\n\r\nexport default NoticeItem\r\n"],"sourceRoot":""}