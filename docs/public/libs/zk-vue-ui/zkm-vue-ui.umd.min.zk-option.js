(("undefined"!==typeof self?self:this)["webpackJsonpzkm_vue_ui"]=("undefined"!==typeof self?self:this)["webpackJsonpzkm_vue_ui"]||[]).push([[23,25,28],{"0502":function(e,t,n){"use strict";n.r(t);n("7f7f");var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{class:["zk-popover",{"is-block":e.block}]},[n("div",{ref:"reference",staticClass:"zk-popover-reference",attrs:{tabindex:e.tabindex},on:{click:e.handleClick,mouseenter:e.handleMouseenter,mouseleave:e.handleMouseleave,mousedown:e.handleMousedown,mouseup:e.handleMouseup}},[e._t("reference")],2),n("span",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.currentValue,expression:"currentValue"}],ref:"popper",class:["zk-popover-popper",e.popperClass],style:{width:e.styleWidth},on:{mouseenter:e.handleMouseenter,mouseleave:e.handleMouseleave}},[e._t("default",[n("span",[e._v(e._s(e.content))])])],2)])])},o=[],s=(n("f751"),n("c5f6"),n("f0bd")),r=n("644a"),a={name:"ZkPopover",props:{trigger:{type:String,default:"click"},content:{type:String},width:{type:[String,Number]},placement:{type:String,default:"top"},block:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},value:{type:Boolean,default:!1},transition:{type:Boolean,default:!1},offset:{type:Number,default:0},popperOptions:{type:Object,default:function(){return{modifiers:{preventOverflow:{boundariesElement:"body"},flip:{boundariesElement:"body"},computeStyle:{gpuAcceleration:!1}}}}},popperClass:{type:String},tabindex:{type:Number,default:0}},directives:{transferDom:r["a"]},data:function(){return{currentValue:this.value}},computed:{styleWidth:function(){return"number"===typeof this.width||/^\d+$/.test(String(this.width))?"".concat(this.width,"px"):this.width||""}},watch:{value:function(){this.currentValue=this.value},currentValue:function(){var e=this;this.$emit("input",this.currentValue),this.$nextTick(function(){return e.updatePopper()})}},methods:{setCurrentValue:function(e){this.disabled&&e||(this.currentValue=e)},handleClick:function(){"click"===this.trigger&&this.setCurrentValue(!this.currentValue)},handleMouseenter:function(){"hover"===this.trigger&&this.setCurrentValue(!0)},handleMouseleave:function(){"hover"===this.trigger&&this.setCurrentValue(!1)},handleMousedown:function(){"focus"===this.trigger&&this.setCurrentValue(!0)},handleMouseup:function(){"focus"===this.trigger&&this.setCurrentValue(!1)},handleHide:function(e){if("manual"!==this.trigger){e=window.event||e;var t=this.$refs,n=t.reference,i=t.popper,o=e.path||e.composedPath&&e.composedPath();o.indexOf(n)<0&&o.indexOf(i)<0&&this.setCurrentValue(!1)}},initPopper:function(){this.destroyPopper();var e=this.$refs,t=e.reference,n=e.popper;t&&n&&(this.popper=new s["a"](t,n,Object.assign({},this.popperOptions,{placement:this.placement,removeOnDestroy:!0})))},updatePopper:function(){this.popper&&this.popper.update()},destroyPopper:function(){this.popper&&(this.popper.destroy(),this.popper=null)}},mounted:function(){var e=this;this.initPopper(),setTimeout(function(){return window.addEventListener("click",e.handleHide,!1)},0)},beforeDestroy:function(){this.destroyPopper(),window.removeEventListener("click",this.handleHide)}},l=a,u=(n("1e05"),n("2877")),c=Object(u["a"])(l,i,o,!1,null,"5dad9ad9",null),p=c.exports;p.install=function(e){e.component(p.name,p)};t["default"]=p},"0a49":function(e,t,n){var i=n("9b43"),o=n("626a"),s=n("4bf8"),r=n("9def"),a=n("cd1c");e.exports=function(e,t){var n=1==e,l=2==e,u=3==e,c=4==e,p=6==e,d=5==e||p,f=t||a;return function(t,a,h){for(var v,b,m=s(t),k=o(m),g=i(a,h,3),y=r(k.length),A=0,w=n?f(t,y):l?f(t,0):void 0;y>A;A++)if((d||A in k)&&(v=k[A],b=g(v,A,m),e))if(n)w[A]=b;else if(b)switch(e){case 3:return!0;case 5:return v;case 6:return A;case 2:w.push(v)}else if(c)return!1;return p?-1:u||c?c:w}}},"1e05":function(e,t,n){"use strict";var i=n("250b"),o=n.n(i);o.a},"250b":function(e,t,n){},"3daa":function(e,t,n){"use strict";n.r(t);n("7f7f");var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"zk-select"},[i("zk-popover",{staticClass:"zk-popover",attrs:{block:"",placement:"bottom-start",disabled:e.currentDisabled},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[i("zk-input",e._b({ref:"input",staticClass:"zk-select-input",attrs:{slot:"reference",readonly:!e.filterable,value:e.label,"disabled-form-validate":!0,placeholder:e.placeholder,disabled:e.currentDisabled},on:{input:e.handleFilterMethod},slot:"reference"},"zk-input",e.$attrs,!1),[i("img",{class:["zk-select-icon",{"is-reverse":e.visible}],attrs:{slot:"suffix-icon",src:n("8249")},slot:"suffix-icon"})]),i("div",{staticClass:"zk-select-ul",style:{"min-width":e.currentWidth+"px"}},[e._t("default")],2)],1)],1)},o=[],s=(n("7514"),n("c5f6"),n("8ccb")),r={componentName:"ZkSelect",mixins:[s["c"]],props:{value:{type:[String,Number,Object]},placeholder:{type:String,default:"请选择"},filterable:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},provide:function(){return{zkSelect:this}},data:function(){return{visible:!1,label:"",olbLabel:"",isFocus:!1,optionInstance:[]}},computed:{options:function(){return this.optionInstance.map(function(e){return{value:e.value,label:e.currentLabel,disabled:e.disabled}})},option:function(){var e=this;return this.options.find(function(t){return t.value===e.currentValue})}},watch:{visible:function(){this.visible||(this.label=this.olbLabel)},currentValue:function(){this.$emit("change",this.currentValue)},option:function(){this.option&&(this.filterable||(this.label=this.option.label))}},methods:{onAddOptionInstance:function(e){this.optionInstance.push(e)},onRemoveOptionInstance:function(e){var t=this.optionInstance.indexOf(e);t<0||this.optionInstance.splice(t,1)},handleFilterMethod:function(e){this.label=e,this.loading||this.$emit("filter-method",e)},onChange:function(e){this.currentValue=e,this.option&&(this.label=this.option.label,this.olbLabel=this.label),this.visible=!1}},created:function(){this.$on("zk.select.addOptionInstance",this.onAddOptionInstance),this.$on("zk.select.removeOptionInstance",this.onRemoveOptionInstance),this.$on("zk.select.change",this.onChange)}},a=n("cb7e"),l={componentName:"ZkOption",mixins:[a["a"]],inject:{zkSelect:{default:void 0}},props:{value:{type:[String,Number,Object],default:void 0},label:{type:[String,Number]},disabled:{type:Boolean,default:!1}},computed:{isSelected:function(){return!!this.zkSelect&&this.zkSelect.currentValue===this.value},currentLabel:function(){return"string"===typeof this.label||"number"===typeof this.label?String(this.label):"string"===typeof this.value||"number"===typeof this.value?String(this.value):""}},methods:{handleClick:function(){this.disabled||this.dispatch("ZkSelect","zk.select.change",[this.value])}},mounted:function(){this.dispatch("ZkSelect","zk.select.addOptionInstance",[this])},beforeDestroy:function(){this.dispatch("ZkSelect","zk.select.removeOptionInstance",[this])}},u=n("0502"),c=n("89e5"),p={name:"ZkSelect",components:{"zk-popover":u["default"],"zk-input":c["default"]},mixins:[r],data:function(){return{currentWidth:200}},watch:{visible:function(){this.visible&&this.handlePopoverUpdate()}},methods:{handlePopoverUpdate:function(){this.currentWidth=this.$refs.input.$el.clientWidth}},mounted:function(){this.handlePopoverUpdate()}},d=p,f=(n("87ee"),n("2877")),h=Object(f["a"])(d,i,o,!1,null,"92623df2",null),v=h.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["zk-option",{"is-selected":e.isSelected}],on:{click:e.handleClick}},[e._t("default",[n("span",[e._v(e._s(e.currentLabel))])],{isSelected:e.isSelected})],2)},m=[],k={name:"ZkOption",mixins:[l]},g=k,y=(n("f692"),Object(f["a"])(g,b,m,!1,null,"54562b64",null)),A=y.exports;n.d(t,"Select",function(){return v}),n.d(t,"Option",function(){return A});var w=[A];v.install=function(e){e.component(v.name,v)};for(var O=function(){var e=S[x];e.install=function(t){t.component(e.name,e)}},x=0,S=w;x<S.length;x++)O();t["default"]=v},"484b":function(e,t,n){},7514:function(e,t,n){"use strict";var i=n("5ca1"),o=n("0a49")(5),s="find",r=!0;s in[]&&Array(1)[s](function(){r=!1}),i(i.P+i.F*r,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(s)},8249:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAAbklEQVQImW3MsQ2CYBgE0IehUhexoqQ1TMQEjgC22lrQQKnJ7wZO4A7/EtB8GAuuvHu5Iuc84IqP7dRodxjxRLWBKrwwlpiwxxtnfAOdkNBiKqN8BE5ooku4xGaFcMMhngv0uK/jP4QOR8wBf1kA4fwVUzGTA1kAAAAASUVORK5CYII="},"87ee":function(e,t,n){"use strict";var i=n("484b"),o=n.n(i);o.a},9528:function(e,t,n){"use strict";n.r(t);var i=n("3daa");t["default"]=i["Option"]},cd1c:function(e,t,n){var i=n("e853");e.exports=function(e,t){return new(i(e))(t)}},d3ec:function(e,t,n){},e853:function(e,t,n){var i=n("d3f4"),o=n("1169"),s=n("2b4c")("species");e.exports=function(e){var t;return o(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!o(t.prototype)||(t=void 0),i(t)&&(t=t[s],null===t&&(t=void 0))),void 0===t?Array:t}},f692:function(e,t,n){"use strict";var i=n("d3ec"),o=n.n(i);o.a}}]);
//# sourceMappingURL=zkm-vue-ui.umd.min.zk-option.js.map