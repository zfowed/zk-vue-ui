(("undefined"!==typeof self?self:this)["webpackJsonpzk_vue_ui"]=("undefined"!==typeof self?self:this)["webpackJsonpzk_vue_ui"]||[]).push([[18],{"508c":function(e,t,s){},bd40:function(e,t,s){"use strict";s.r(t);s("7f7f");var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:["zk-image-upload",{"zk-image-upload-loading":e.isUpload}]},[s("div",{staticClass:"zk-image-upload-progress"},[s("div",{staticClass:"zk-progress",style:"padding-top: "+e.uploadProgress+"%;"},[s("div",{staticClass:"zk-progress-bar"}),s("div",{staticClass:"zk-progress-text"},[s("span",[e._v(e._s(e.uploadProgress)+"%")])])])]),s("zk-image-select",{attrs:{"view-src-list":e.viewSrcList,options:e.currentOptions,readonly:e.readonly,cover:e.cover},on:{"change-file":e.changeFile},model:{value:e.src,callback:function(t){e.src=t},expression:"src"}},[e._t("label",null,{slot:"label"}),e.$slots["upload-label"]?e._t("upload-label",null,{slot:"select-label"}):e._t("default",[e._v("重新上传")],{slot:"select-label"})],2)],1)},n=[],l=(s("f751"),s("7191")),a=s("d92a"),o={name:"ZkImageUpload",components:{"zk-image-select":l["default"]},props:{value:String,options:Object,viewSrcList:Array,readonly:{type:Boolean,required:!1},cover:{type:Boolean,required:!1},httpRequest:{type:Function,required:!0}},data:function(){return{src:this.value,currentValue:this.value,isUpload:!1,uploadProgress:0}},computed:{currentOptions:function(){return Object.assign({},this.options||{})}},watch:{value:function(){this.src=this.value,this.currentValue=this.value},currentValue:function(){this.currentValue||this.$emit("upload-result",void 0),this.$emit("input",this.currentValue)}},methods:{changeFile:function(e){var t=this;function s(e,t,s){return function(){return setTimeout(function(){return e(s)},t)}}function r(){}s(r,200,{}),e?(this.uploadProgress=0,this.isUpload=!0,this.httpRequest({data:{file:e},onProgress:function(e){t.uploadProgress=e.loaded/e.total*100|0},onSuccess:function(e){t.currentValue=e,t.src=t.currentValue,t.isUpload=!1},onError:function(e){t.currentValue="",t.src="",t.isUpload=!1,a["b"].error(String(e)||"图片上传失败，请重试。")}})):this.currentValue=""}}},i=o,u=(s("e9f2"),s("2877")),c=Object(u["a"])(i,r,n,!1,null,"4c021ee6",null),p=c.exports;p.install=function(e){e.component(p.name,p)};t["default"]=p},e9f2:function(e,t,s){"use strict";var r=s("508c"),n=s.n(r);n.a}}]);
//# sourceMappingURL=zk-vue-ui.umd.min.zk-image-upload.js.map