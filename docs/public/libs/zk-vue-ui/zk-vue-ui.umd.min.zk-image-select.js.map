{"version":3,"sources":["webpack://zk-vue-ui/./packages/components/web/image-view/src/image-view.vue?e094","webpack://zk-vue-ui/packages/components/web/image-view/src/image-view.vue","webpack://zk-vue-ui/./packages/components/web/image-view/src/image-view.vue?eba8","webpack://zk-vue-ui/./packages/components/web/image-view/src/image-view.vue","webpack://zk-vue-ui/./packages/components/web/image-view/index.js","webpack://zk-vue-ui/./packages/components/web/image-select/src/image-select.vue?ab1c","webpack://zk-vue-ui/./packages/components/web/image-select/src/image-select.vue?5bf5","webpack://zk-vue-ui/packages/components/web/image-select/src/image-select.vue","webpack://zk-vue-ui/./packages/components/web/image-select/src/image-select.vue?8b06","webpack://zk-vue-ui/./packages/components/web/image-select/src/image-select.vue","webpack://zk-vue-ui/./packages/components/web/image-select/index.js","webpack://zk-vue-ui/./packages/components/web/image-view/src/image-view.vue?4ee9"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","visible","currentVisible","custom-style","width","height","on","update:visible","$event","staticClass","click","currentIndex","toLeft","_e","src","currentSrcList","length","toRight","staticRenderFns","image_viewvue_type_script_lang_js_","name","components","zk-popup-layer","popup_layer","props","type","Boolean","default","String","required","srcList","Array","data","isArray","indexOf","computed","get","set","$emit","watch","methods","src_image_viewvue_type_script_lang_js_","component","Object","componentNormalizer","image_view","ImageView","install","Vue","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_image_select_vue_vue_type_style_index_0_id_608a0684_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_image_select_vue_vue_type_style_index_0_id_608a0684_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","class","zk-image-item-add","currentValue","zk-image-item-readonly","readonly","zk-image-item-cover","cover","style","tabindex","background-image","viewImage","selectImage","stopPropagation","_t","_v","_m","$slots","directives","rawName","value","expression","ref","imageViewVisible","src-list","currentViewSrcList","image_selectvue_type_script_lang_js_","zk-image-view","options","viewSrcList","currentOptions","assign","maxSize","minSize","limitExt","accept","parseImgBase64","multiple","onError","onFileSelectionError","forcedChange","concat","toConsumableArray","immediate","handler","createSelection","fileSelection","utils","destroyedSelection","destroy","error","exts","split","map","item","substring","join","message","warning","size","sizeStr","kb","kbstr","mb","mbstr","_this","select","result","base64","undefined","file","deleteImage","destroyed","src_image_selectvue_type_script_lang_js_","image_select","ImageSelect","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_image_view_vue_vue_type_style_index_0_id_5b79d62b_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_image_view_vue_vue_type_style_index_0_id_5b79d62b_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"zk-vue-ui.umd.min.zk-image-select.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('zk-popup-layer',{attrs:{\"visible\":_vm.currentVisible,\"custom-style\":{ width: '100%', height: '100%' }},on:{\"update:visible\":function($event){_vm.currentVisible=$event}}},[_c('div',{staticClass:\"image-view-stage\"},[_c('div',{staticClass:\"image-view-close\",on:{\"click\":function($event){_vm.currentVisible = false}}}),(_vm.currentIndex > 0)?_c('div',{staticClass:\"image-view-left\",on:{\"click\":_vm.toLeft}}):_vm._e(),_c('img',{staticClass:\"image-view-img\",attrs:{\"src\":_vm.currentSrcList[_vm.currentIndex]}}),(_vm.currentIndex < _vm.currentSrcList.length - 1)?_c('div',{staticClass:\"image-view-right\",on:{\"click\":_vm.toRight}}):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <zk-popup-layer\r\n    :visible.sync=\"currentVisible\"\r\n    :custom-style=\"{ width: '100%', height: '100%' }\">\r\n    <div class=\"image-view-stage\">\r\n      <div class=\"image-view-close\" @click=\"currentVisible = false\"></div>\r\n      <div class=\"image-view-left\" v-if=\"currentIndex > 0\" @click=\"toLeft\"></div>\r\n      <img class=\"image-view-img\" :src=\"currentSrcList[currentIndex]\">\r\n      <div class=\"image-view-right\" v-if=\"currentIndex < currentSrcList.length - 1\" @click=\"toRight\"></div>\r\n    </div>\r\n  </zk-popup-layer>\r\n</template>\r\n\r\n<script>\r\nimport PopupLayer from '../../../global/popup-layer'\r\n\r\nexport default {\r\n  name: 'ZkImageView',\r\n  components: {\r\n    'zk-popup-layer': PopupLayer\r\n  },\r\n  props: {\r\n    visible: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    src: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    srcList: {\r\n      type: Array\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      currentIndex: Array.isArray(this.srcList) ? this.srcList.indexOf(this.src) : 0\r\n    }\r\n  },\r\n  computed: {\r\n    currentVisible: {\r\n      get () {\r\n        return this.visible\r\n      },\r\n      set (visible) {\r\n        this.$emit('update:visible', visible)\r\n      }\r\n    },\r\n    currentSrcList () {\r\n      return Array.isArray(this.srcList) ? this.srcList : [this.src]\r\n    }\r\n  },\r\n  watch: {\r\n    currentVisible () {\r\n      if (this.currentVisible) {\r\n        this.currentIndex = Array.isArray(this.srcList) ? this.srcList.indexOf(this.src) : 0\r\n      }\r\n    },\r\n    srcList () {\r\n      this.currentIndex = Array.isArray(this.srcList) ? this.srcList.indexOf(this.src) : 0\r\n    }\r\n  },\r\n  methods: {\r\n    toLeft () {\r\n      if (this.currentSrcList[this.currentIndex - 1]) {\r\n        this.currentIndex -= 1\r\n      }\r\n    },\r\n    toRight () {\r\n      if (this.currentSrcList[this.currentIndex + 1]) {\r\n        this.currentIndex += 1\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.image-view-stage {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: 5% 148px;\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  user-select: none;\r\n  .image-view-close {\r\n    position: absolute;\r\n    top: 74px;\r\n    right: 74px;\r\n    width: 74px;\r\n    height: 74px;\r\n    line-height: 74px;\r\n    text-align: center;\r\n    border-radius: 50%;\r\n    overflow: hidden;\r\n    z-index: 5;\r\n    background-color: #656565;\r\n    background-repeat: no-repeat;\r\n    background-position: center center;\r\n    cursor: pointer;\r\n    background-image: url('~../assets/c1.png');\r\n    &:hover {\r\n      background-image: url('~../assets/c2.png');\r\n    }\r\n  }\r\n  .image-view-img {\r\n    max-width: 100%;\r\n    max-height: 100%;\r\n    display: block;\r\n    margin: auto;\r\n  }\r\n  .image-view-left,\r\n  .image-view-right {\r\n    position: absolute;\r\n    top: 50%;\r\n    width: 74px;\r\n    height: 74px;\r\n    line-height: 74px;\r\n    text-align: center;\r\n    border-radius: 50%;\r\n    overflow: hidden;\r\n    margin-top: -37px;\r\n    z-index: 4;\r\n    background-color: #656565;\r\n    background-repeat: no-repeat;\r\n    background-position: center center;\r\n    cursor: pointer;\r\n  }\r\n  .image-view-left {\r\n    // left: -(74px + 86px);\r\n    left: 74px;\r\n    background-image: url('~../assets/l1.png');\r\n    &:hover {\r\n      background-image: url('~../assets/l2.png');\r\n    }\r\n  }\r\n  .image-view-right {\r\n    // right: -(74px + 86px);\r\n    right: 74px;\r\n    background-image: url('~../assets/r1.png');\r\n    &:hover {\r\n      background-image: url('~../assets/r2.png');\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image-view.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image-view.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./image-view.vue?vue&type=template&id=5b79d62b&scoped=true&\"\nimport script from \"./image-view.vue?vue&type=script&lang=js&\"\nexport * from \"./image-view.vue?vue&type=script&lang=js&\"\nimport style0 from \"./image-view.vue?vue&type=style&index=0&id=5b79d62b&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5b79d62b\",\n  null\n  \n)\n\nexport default component.exports","import ImageView from './src/image-view'\r\n\r\nImageView.install = function (Vue) {\r\n  Vue.component(ImageView.name, ImageView)\r\n}\r\n\r\nexport default ImageView\r\n","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image-select.vue?vue&type=style&index=0&id=608a0684&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image-select.vue?vue&type=style&index=0&id=608a0684&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:['zk-image-item', {\n    'zk-image-item-add': !_vm.currentValue,\n    'zk-image-item-readonly': _vm.readonly,\n    'zk-image-item-cover': _vm.cover\n  }],style:({ width: _vm.width }),attrs:{\"tabindex\":\"0\"}},[_c('div',{staticClass:\"zk-image-item-box\",style:({ 'background-image': (\"url(\" + _vm.currentValue + \")\") }),on:{\"click\":function () { return _vm.currentValue ? _vm.viewImage() : _vm.selectImage(); }}},[_c('div',{staticClass:\"zk-image-item-operating\",on:{\"click\":function($event){$event.stopPropagation();return _vm.selectImage($event)}}},[_vm._t(\"select-label\",[_vm._v(\"重新选择\")])],2),_c('div',{staticClass:\"zk-image-item-notval\"},[_vm._m(0),(_vm.$slots.label)?_c('div',{staticClass:\"zk-image-item-label\"},[_vm._t(\"label\")],2):_vm._e()])]),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],ref:\"fileInput\",attrs:{\"type\":\"file\"}}),(_vm.currentValue)?_c('zk-image-view',{attrs:{\"visible\":_vm.imageViewVisible,\"src\":_vm.currentValue,\"src-list\":_vm.currentViewSrcList},on:{\"update:visible\":function($event){_vm.imageViewVisible=$event}}}):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"icon-plus\"},[_c('span',{staticClass:\"icon-plus-line1\"}),_c('span',{staticClass:\"icon-plus-line2\"})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    tabindex=\"0\"\r\n    :style=\"{ width }\"\r\n    :class=\"['zk-image-item', {\r\n      'zk-image-item-add': !currentValue,\r\n      'zk-image-item-readonly': readonly,\r\n      'zk-image-item-cover': cover\r\n    }]\">\r\n    <div class=\"zk-image-item-box\" :style=\"{ 'background-image': `url(${currentValue})` }\" @click=\"() => currentValue ? viewImage() : selectImage()\">\r\n      <div class=\"zk-image-item-operating\" @click.stop=\"selectImage\">\r\n        <slot name=\"select-label\">重新选择</slot>\r\n      </div>\r\n      <div class=\"zk-image-item-notval\">\r\n        <div class=\"icon-plus\">\r\n          <span class=\"icon-plus-line1\"></span>\r\n          <span class=\"icon-plus-line2\"></span>\r\n        </div>\r\n        <div class=\"zk-image-item-label\" v-if=\"$slots.label\">\r\n          <slot name=\"label\"></slot>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <input ref=\"fileInput\" v-show=\"false\" type=\"file\">\r\n    <zk-image-view\r\n      v-if=\"currentValue\"\r\n      :visible.sync=\"imageViewVisible\"\r\n      :src=\"currentValue\"\r\n      :src-list=\"currentViewSrcList\">\r\n    </zk-image-view>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { FileSelection } from '../../../../utils'\r\n\r\nimport ImageView from '../../image-view'\r\nimport { message } from '../../message'\r\n\r\nexport default {\r\n  name: 'ZkImageSelect',\r\n  components: {\r\n    'zk-image-view': ImageView\r\n  },\r\n  props: {\r\n    value: String,\r\n    options: Object,\r\n    viewSrcList: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    readonly: {\r\n      type: Boolean,\r\n      required: false\r\n    },\r\n    cover: {\r\n      type: Boolean,\r\n      required: false\r\n    },\r\n    width: {\r\n      default: '147px'\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      currentValue: this.value,\r\n      imageViewVisible: false\r\n    }\r\n  },\r\n  computed: {\r\n    currentOptions () {\r\n      return Object.assign({\r\n        maxSize: 1048576, // 1M\r\n        minSize: 0,\r\n        limitExt: '.jpg,.jpeg,.gif,.png,.bmp'\r\n      }, this.options || {}, {\r\n        accept: 'image/*',\r\n        parseImgBase64: true,\r\n        multiple: false,\r\n        onError: this.onFileSelectionError,\r\n        forcedChange: true\r\n      })\r\n    },\r\n    currentViewSrcList () {\r\n      return this.viewSrcList.indexOf(this.currentValue) < 0 ? [this.currentValue, ...this.viewSrcList] : this.viewSrcList\r\n    }\r\n  },\r\n  watch: {\r\n    options: {\r\n      immediate: true,\r\n      handler: 'createSelection'\r\n    },\r\n    value () {\r\n      this.currentValue = this.value\r\n    }\r\n  },\r\n  methods: {\r\n    createSelection () {\r\n      this.fileSelection = new FileSelection(this.currentOptions)\r\n      return this.fileSelection\r\n    },\r\n    destroyedSelection () {\r\n      if (this.fileSelection) {\r\n        this.fileSelection.destroy()\r\n        this.fileSelection = null\r\n      }\r\n    },\r\n    onFileSelectionError (error) {\r\n      switch (error.type) {\r\n        case 'limitExt':\r\n          ((limitExt) => {\r\n            const exts = limitExt.split(',').map(item => {\r\n              return item.substring(1)\r\n            }).join('，')\r\n            message.warning(`仅支持上传 ${exts} 格式的图片！`)\r\n          })(this.currentOptions.limitExt)\r\n          break\r\n        case 'maxSize':\r\n          ((size) => {\r\n            const sizeStr = `${size}字节`\r\n            const kb = size / 1024\r\n            const kbstr = (kb % 1 === 0 && `${kb}KB`) || null\r\n            const mb = kb / 1024\r\n            const mbstr = (mb % 1 === 0 && `${mb}MB`) || null\r\n            message.warning(`图片大小必须小于 ${mbstr || kbstr || sizeStr} 以内！`)\r\n          })(this.currentOptions.maxSize)\r\n          break\r\n        case 'minSize':\r\n          ((size) => {\r\n            const sizeStr = `${size}字节`\r\n            const kb = size / 1024\r\n            const kbstr = (kb % 1 === 0 && `${kb}KB`) || null\r\n            const mb = kb / 1024\r\n            const mbstr = (mb % 1 === 0 && `${mb}MB`) || null\r\n            message.warning(`图片大小必须大于 ${mbstr || kbstr || sizeStr} 以内！`)\r\n          })(this.currentOptions.maxSize)\r\n          break\r\n        default:\r\n          message.error('选择文件出错！')\r\n      }\r\n    },\r\n    selectImage () {\r\n      if (this.readonly) return\r\n      return this.fileSelection.select(result => {\r\n        if (result[0]) {\r\n          this.currentValue = result[0].base64 || undefined\r\n          this.$emit('input', this.currentValue)\r\n          this.$emit('change-file', result[0].file)\r\n        } else {\r\n          this.deleteImage()\r\n        }\r\n      })\r\n    },\r\n    deleteImage () {\r\n      this.currentValue = ''\r\n      this.$emit('input', '')\r\n      this.$emit('change-file', undefined)\r\n    },\r\n    viewImage () {\r\n      if (!this.currentValue) return\r\n      this.imageViewVisible = true\r\n    }\r\n  },\r\n  destroyed () {\r\n    this.destroyedSelection()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.zk-image-item {\r\n  width: 100%;\r\n  position: relative;\r\n  box-sizing: border-box;\r\n  display: inline-block;\r\n  text-align: center;\r\n  outline: none;\r\n  background-color: #F8F8F8;\r\n  &:focus {\r\n    color: #409eff;\r\n    outline: none;\r\n  }\r\n  .zk-image-item-box {\r\n    background-position: center center;\r\n    background-size: contain;\r\n    background-repeat: no-repeat;\r\n    width: 100%;\r\n    cursor: pointer;\r\n    padding-bottom: 100%;\r\n    .zk-image-item-operating {\r\n      position: absolute;\r\n      left: 0;\r\n      bottom: 0;\r\n      width: 100%;\r\n      height: 20%;\r\n      min-height: 28px;\r\n      font-size: 14px;\r\n      box-sizing: border-box;\r\n      background-color: rgba(52, 52, 52, .8);\r\n      color: #F8F8F8;\r\n      transition: opacity .2s cubic-bezier(.645,.045,.355,1);\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      cursor: pointer;\r\n    }\r\n    .zk-image-item-notval {\r\n      position: absolute;\r\n      top: 50%;\r\n      left: 50%;\r\n      transform: translate(-50%, -50%);\r\n      z-index: 1;\r\n      text-align: center;\r\n      font-size: 14px;\r\n      line-height: 28px;\r\n      color: #606266;\r\n      width: 100%;\r\n      display: none;\r\n    }\r\n    .zk-image-item-label {\r\n      font-size: 12px;\r\n      color: #656565;\r\n      margin-top: 12px;\r\n      height: 12px;\r\n      line-height: 15px;\r\n    }\r\n  }\r\n  &.zk-image-item-add .zk-image-item-box .zk-image-item-operating {\r\n    display: none;\r\n  }\r\n  &.zk-image-item-add .zk-image-item-box .zk-image-item-notval {\r\n    display: block;\r\n  }\r\n  &.zk-image-item-readonly .zk-image-item-box .zk-image-item-operating,\r\n  &.zk-image-item-readonly .zk-image-item-box .zk-image-item-notval {\r\n    display: none;\r\n  }\r\n  &.zk-image-item-cover .zk-image-item-box {\r\n    background-size: cover;\r\n  }\r\n}\r\n.icon-plus {\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n  width: 28px;\r\n  height: 28px;\r\n  border-radius: 50%;\r\n  background-color: #2D76ED;\r\n  position: relative;\r\n  &::before,\r\n  &::after {\r\n    content: '';\r\n    position: absolute;\r\n    background-color: #FFFFFF;\r\n    z-index: 1;\r\n  }\r\n  &::before {\r\n    right: 4px;\r\n    top: 13px;\r\n    width: 20px;\r\n    height: 2px;\r\n  }\r\n  &::after {\r\n    right: 13px;\r\n    top: 4px;\r\n    width: 2px;\r\n    height: 20px;\r\n  }\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image-select.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image-select.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./image-select.vue?vue&type=template&id=608a0684&scoped=true&\"\nimport script from \"./image-select.vue?vue&type=script&lang=js&\"\nexport * from \"./image-select.vue?vue&type=script&lang=js&\"\nimport style0 from \"./image-select.vue?vue&type=style&index=0&id=608a0684&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"608a0684\",\n  null\n  \n)\n\nexport default component.exports","import ImageSelect from './src/image-select'\r\n\r\nImageSelect.install = function (Vue) {\r\n  Vue.component(ImageSelect.name, ImageSelect)\r\n}\r\n\r\nexport default ImageSelect\r\n","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image-view.vue?vue&type=style&index=0&id=5b79d62b&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image-view.vue?vue&type=style&index=0&id=5b79d62b&lang=scss&scoped=true&\""],"sourceRoot":""}